% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/audit-chapter.R
\name{clean_orphaned_figures}
\alias{clean_orphaned_figures}
\title{Remove orphaned figures from a chapter}
\usage{
clean_orphaned_figures(
  chapter,
  lecture_dir = here::here(),
  lecture = basename(lecture_dir),
  method = c("auto", "regex", "fls"),
  dry_run = TRUE
)
}
\arguments{
\item{chapter}{Character. Chapter directory name, e.g. \code{"evaluation"}.}

\item{lecture_dir}{Character. Path to the lecture directory.
Defaults to \code{here::here()}, i.e. the project root.}

\item{lecture}{Character. Lecture name for display purposes.
Defaults to \code{basename(lecture_dir)}.}

\item{method}{Character. How to detect which figures slides reference:
\itemize{
\item \code{"auto"} (default): Use \code{.fls} files if they exist for all slides,
otherwise fall back to regex. Best for use after \verb{make slides}.
\item \code{"regex"}: Parse \code{.tex} source with regex. Fast but can miss
dynamically constructed paths (e.g. \verb{\\\\foreach} loops).
\item \code{"fls"}: Parse \code{.fls} recorder files from \code{latexmk}. More robust
but requires prior compilation (\verb{make slides}). Errors if \code{.fls}
files are missing.
}}

\item{dry_run}{Logical. If \code{TRUE} (default), only list files that would
be deleted without actually removing them.}
}
\value{
Invisibly: character vector of deleted (or would-be-deleted) file
paths.
}
\description{
Runs \code{\link[=audit_chapter]{audit_chapter()}} to identify orphaned figures in \verb{figure/} and
\verb{figure_man/}, then deletes them. Figures in \verb{attic/} subdirectories
are never deleted.
}
\details{
Since figures are typically git-tracked, deletions are easily reversible
via \verb{git checkout}.
}
